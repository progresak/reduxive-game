{"version":3,"sources":["../node_modules/uid/index.js","components/player/player_walk.png","components/map/tiles/explosion.png","components/map/MapTile.js","components/map/Map.js","components/player/movement.js","components/player/control.js","components/player/Player.js","components/map/mapGenerator.js","components/ScoreBoard/index.js","components/Summary/index.js","components/world/World.js"],"names":["module","exports","len","Math","random","toString","substr","__webpack_require__","p","customTile","type","arguments","length","undefined","timer","power","imposible","getTileSprite","id","uid","getBombTile","BOMB_TIMEOUT","DEFAULT_BOMB_POWER","MapTile","_ref","tile","react_default","a","createElement","className","concat","style","height","SPRITE_SIZE","width","key","MapRow","props","tiles","map","map_MapTile","connect","state","mapSize","margin","border","row","Map_MapRow","handleMovement","player","dispatchMove","direction","newPos","walkIndex","store","getState","getWalkIndex","dispatch","payload","position","spriteLocation","getSpriteLocation","attemptMove","oldPos","bombPower","walkThroughBorders","getNewPosition","y","x","nextTile","includes","observeImpossable","containType","types","object","window","addEventListener","e","keyCode","preventDefault","handleKeydown","handleControl","placeBomb","_store$getState$playe","bombTimeout","bomb","canPlaceBomb","dispatchPlaceBomb","setTimeout","dispatchBombExplode","boom","Array","from","EXPLOSION_VISIBLE","Object","objectSpread","gameOver","top","left","backgroundImage","playerWalk","backgroundPosition","generateDynamicMap","cleanMap","getCleanMap","maxElements","4","2","5","7","3","6","property","hasOwnProperty","i","getRandomInt","parseInt","min","max","ceil","floor","dimension","src","explosion","alt","ReactDOM","createPortal","onClick","innerWidth","innerHeight","onButtonClickRestart","document","querySelector","World","map_Map","player_Player","name","components_ScoreBoard","components_Summary"],"mappings":"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","file":"static/js/3.ecb1cc74.chunk.js","sourcesContent":["/**\n * Export `uid`\n */\nmodule.exports = uid;\n/**\n * Create a `uid`\n *\n * @param {String} len\n * @return {String} uid\n */\n\nfunction uid(len) {\n  len = len || 7;\n  return Math.random().toString(35).substr(2, len);\n}","module.exports = __webpack_public_path__ + \"static/media/player_walk.9f19440f.png\";","module.exports = \"data:image/png;base64,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\"","import React from 'react';\nimport uid from 'uid';\nimport { BOMB_TIMEOUT, DEFAULT_BOMB_POWER, SPRITE_SIZE } from '../../config/constants';\n\nexport const customTile = (type = 0, timer = 0, power = 0, imposible = false) => ({\n  type: getTileSprite(type),\n  timer,\n  power,\n  imposible,\n  id: uid(10),\n});\n\nexport const getBombTile = (timer = BOMB_TIMEOUT, power = DEFAULT_BOMB_POWER) => customTile(10, timer, power, true);\n\nexport const getTileSprite = (type) => {\n  switch (type) {\n    case 0:\n      return 'grass';\n    case 11:\n      return 'explosion';\n    case 10:\n      return 'bomb';\n    case 3:\n      return 'tree';\n    case 4:\n      return 'chest';\n    case 2:\n      return 'crown';\n    case 5:\n      return 'rock';\n    case 6:\n      return 'tree';\n    case 7:\n      return 'upgrade';\n    default:\n      return 'grass';\n  }\n};\n\nexport const getRandomMapTile = (abadonedTile) => {\n  const tilesIndexes = [0, 3, 4, 2, 5, 6, 0, 0, 7, 0, 0, 0, 0, 0, 0];\n  const winnerNumber = tilesIndexes[Math.floor(Math.random() * tilesIndexes.length)];\n  if (abadonedTile !== undefined && abadonedTile.includes(winnerNumber)) {\n    return getRandomMapTile(abadonedTile);\n  }\n  if (getTileSprite(winnerNumber) === 'bomb') {\n    return getBombTile();\n  }\n  return customTile(winnerNumber);\n};\n\nconst MapTile = ({ tile }) => (\n  <div\n    className={`tile ${tile.type}`}\n    style={{ height: SPRITE_SIZE, width: SPRITE_SIZE }}\n    key={Math.random()}\n  />\n);\n\nexport default MapTile;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport './styles.css';\nimport MapTile from './MapTile';\n\nconst MapRow = (props) => {\n  const { tiles } = props;\n  return (\n    <div className=\"row\">\n      {tiles.map(tile => (\n        <MapTile\n          tile={tile}\n          key={Math.random()}\n        />\n      ))}\n\n    </div>\n  );\n};\n\nconst Map = (props) => {\n  const { mapSize, tiles } = props;\n  return (\n    <div\n      className=\"mapContainer\"\n      style={{\n        width: `${mapSize[0]}px`,\n        height: `${mapSize[1]}px`,\n        margin: 'auto',\n        border: '4px solid white',\n      }}\n    >\n      {tiles.map(row => (\n        <MapRow\n          tiles={row}\n          key={Math.random()}\n        />\n      ))}\n\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  tiles: state.map.tiles,\n  mapSize: state.map.mapSize,\n});\n\n\nMapRow.propTypes = {\n  tiles: PropTypes.any,\n};\n\nMap.propTypes = {\n  mapSize: PropTypes.any.isRequired,\n  tiles: PropTypes.any.isRequired,\n};\n\nexport default connect(mapStateToProps)(Map);\n","import store from '../../config/store';\nimport { SPRITE_SIZE } from '../../config/constants';\nimport { customTile } from '../map/MapTile';\n\nconst handleMovement = (player) => {\n  const getNewPosition = (oldPos, direction) => {\n    switch (direction) {\n      case 'WEST':\n        return [oldPos[0] - SPRITE_SIZE, oldPos[1]];\n      case 'EAST':\n        return [oldPos[0] + SPRITE_SIZE, oldPos[1]];\n      case 'NORTH':\n        return [oldPos[0], oldPos[1] - SPRITE_SIZE];\n      case 'SOUTH':\n        return [oldPos[0], oldPos[1] + SPRITE_SIZE];\n      default:\n        return oldPos;\n    }\n  };\n  /*\n      const observeBoundaries = (oldPos, newPos, mapSize) => {\n          return (newPos[0] >= 0 && newPos[0] <= mapSize[0] - SPRITE_SIZE) &&\n              (newPos[1] >= 0 && newPos[1] <= mapSize[1] - SPRITE_SIZE)\n      };\n  */\n\n  const observeImpossable = (oldPos, newPos) => {\n    const tiles = store.getState().map.tiles;\n    const y = newPos[1] / SPRITE_SIZE;\n    const x = newPos[0] / SPRITE_SIZE;\n    const nextTile = tiles[y][x];\n    return !(['rock'].includes(nextTile.type));\n  };\n\n  const getWalkIndex = () => {\n    const walkIndex = store.getState().player.walkIndex;\n    return walkIndex >= 7 ? 0 : walkIndex + 1;\n  };\n\n  const dispatchMove = (direction, newPos) => {\n    const walkIndex = getWalkIndex();\n    store.dispatch({\n      type: 'MOVE_PLAYER',\n      payload: {\n        position: newPos,\n        direction,\n        walkIndex,\n        spriteLocation: getSpriteLocation(direction, walkIndex),\n      },\n    });\n  };\n\n  const getSpriteLocation = (direction, walkIndex) => {\n    switch (direction) {\n      case 'SOUTH':\n        return `${SPRITE_SIZE * walkIndex}px 0px`;\n      case 'EAST':\n        return `${SPRITE_SIZE * walkIndex}px ${SPRITE_SIZE}px`;\n      case 'WEST':\n        return `${SPRITE_SIZE * walkIndex}px ${SPRITE_SIZE * 2}px`;\n      case 'NORTH':\n        return `${SPRITE_SIZE * walkIndex}px ${SPRITE_SIZE * 3}px`;\n      default:\n        return '0px 0px';\n    }\n  };\n\n  const walkThroughBorders = (newPos, mapSize) => [\n    ((newPos[0] >= mapSize[0]) ? 0 : (newPos[0] < 0) ? mapSize[0] - SPRITE_SIZE : newPos[0]),\n    ((newPos[1] >= mapSize[1]) ? 0 : (newPos[1] < 0) ? mapSize[1] - SPRITE_SIZE : newPos[1]),\n  ];\n\n  const attemptMove = (direction) => {\n    const oldPos = store.getState().player.position;\n    const bombPower = store.getState().player.bombPower;\n    const mapSize = store.getState().map.mapSize;\n    const newPos = walkThroughBorders(getNewPosition(oldPos, direction), mapSize);\n    if (observeImpossable(oldPos, newPos)) {\n      dispatchMove(direction, newPos);\n      if (containType(newPos, ['crown', 'chest'])) {\n        store.dispatch({\n          type: 'MODIFY_BOMB_POWER',\n          payload: {\n            bombPower: bombPower + 1,\n          },\n        });\n      }\n      if (containType(newPos, ['explosion'])) {\n        store.dispatch({\n          type: 'GAME_OVER',\n        });\n      }\n    }\n  };\n\n  const containType = (newPos, types) => {\n    const tiles = store.getState().map.tiles;\n\n    const x = newPos[0] / SPRITE_SIZE;\n    const y = newPos[1] / SPRITE_SIZE;\n    if (types.includes(tiles[y][x].type)) {\n      store.dispatch({\n        type: 'PLACE_OBJECT',\n        payload: {\n          position: newPos,\n          object: customTile(),\n        },\n      });\n      return true;\n    }\n    return false;\n  };\n\n  const handleKeydown = (e) => {\n    switch (e.keyCode) {\n      case 65:\n      case 37:\n        e.preventDefault();\n        return attemptMove('WEST');\n      case 87:\n      case 38:\n        e.preventDefault();\n        return attemptMove('NORTH');\n      case 68:\n      case 39:\n        e.preventDefault();\n        return attemptMove('EAST');\n      case 83:\n      case 40:\n        e.preventDefault();\n        return attemptMove('SOUTH');\n      default:\n    }\n  };\n\n  window.addEventListener('keydown', (e) => {\n    handleKeydown(e);\n  });\n\n\n  return player;\n};\n\nexport default handleMovement;\n","import store from '../../config/store';\nimport { customTile, getBombTile } from '../map/MapTile';\nimport { EXPLOSION_VISIBLE, SPRITE_SIZE } from '../../config/constants';\n\nconst handleControl = (player) => {\n  const canPlaceBomb = (position, tiles) => tiles[position[1] / SPRITE_SIZE][position[0] / SPRITE_SIZE].type !== 10;\n\n  const placeBomb = () => {\n    const { position, bombPower, bombTimeout } = store.getState().player;\n    const tiles = store.getState().map.tiles;\n    const bomb = getBombTile(bombTimeout, bombPower);\n\n    if (canPlaceBomb(position, tiles)) {\n      dispatchPlaceBomb(position, bomb);\n      store.dispatch({\n        type: 'MODIFY_BOMB_POWER',\n        payload: {\n          bombPower: (bombPower > 1) ? bombPower - 1 : bombPower,\n        },\n      });\n      setTimeout(() => {\n        const x = position[1] / SPRITE_SIZE;\n        const y = position[0] / SPRITE_SIZE;\n        dispatchBombExplode(boom(tiles, bomb.power, [y, x], customTile(11)));\n        setTimeout(() => {\n          dispatchBombExplode(boom(Array.from(tiles), bomb.power, [y, x], customTile(0)));\n        }, EXPLOSION_VISIBLE);\n      }, bomb.timer);\n    }\n  };\n\n  const dispatchBombExplode = (tiles) => {\n    store.dispatch({\n      type: 'REPLACE_TILES',\n      payload: {\n        tiles,\n      },\n    });\n  };\n\n\n  const boom = (tiles, power, position, tile) => {\n    for (let y = 1; y <= power; y++) {\n      if ((tiles[position[1] + y]) !== undefined) {\n        tiles[position[1] + y][position[0]] = tile;\n      }\n      if ((tiles[position[1] - y]) !== undefined) {\n        tiles[position[1] - y][position[0]] = tile;\n      }\n      if ((tiles[position[1]][position[0] + y]) !== undefined) {\n        tiles[position[1]][position[0] + y] = tile;\n      }\n      if ((tiles[position[1]][position[0] - y]) !== undefined) {\n        tiles[position[1]][position[0] - y] = tile;\n      }\n    }\n    tiles[position[1]][position[0]] = tile;\n\n    const newPos = store.getState().player.position;\n    const x = newPos[0] / SPRITE_SIZE;\n    const y = newPos[1] / SPRITE_SIZE;\n    if (tiles[y][x].type === 11) {\n      store.dispatch({\n        type: 'GAME_OVER',\n      });\n    }\n    return tiles;\n  };\n\n  const dispatchPlaceBomb = (position, bomb) => {\n    store.dispatch({\n      type: 'PLACE_OBJECT',\n      payload: {\n        position,\n        object: bomb,\n      },\n    });\n  };\n\n  const handleKeydown = (e) => {\n    switch (e.keyCode) {\n      case 32: // space\n        e.preventDefault();\n        return placeBomb();\n      default:\n    }\n  };\n\n  window.addEventListener('keydown', (e) => {\n    handleKeydown(e);\n  });\n\n  return player;\n};\n\nexport default handleControl;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport playerWalk from './player_walk.png';\nimport handleMovement from './movement';\nimport handleControl from './control';\n\nconst Player = (props) => {\n  if (props.gameOver) {\n    return null;\n  }\n\n  return (\n    <div style={{\n      position: 'absolute',\n      top: props.position[1],\n      left: props.position[0],\n      backgroundImage: `url('${playerWalk}')`,\n      backgroundPosition: props.spriteLocation,\n      width: '40px',\n      height: '40px',\n    }}\n    />\n  );\n};\n\nconst mapStateToProps = state => ({\n  ...state.player,\n});\n\nexport default connect(mapStateToProps)(handleControl(handleMovement(Player)));\n","import { customTile, getRandomMapTile } from './MapTile';\n\nconst getCleanMap = (width, height) => {\n  const cleanMap = new Array(height.length);\n  for (let y = 0; y < height; y++) {\n    cleanMap[y] = new Array(width.length);\n    for (let x = 0; x < width; x++) {\n      cleanMap[y][x] = customTile();\n    }\n  }\n  return cleanMap;\n};\n\n// use GENERATOR!\n\nexport const generateDynamicMap = (width, height) => {\n  const cleanMap = getCleanMap(width, height);\n\n\n  const maxElements = {\n    4: 10,\n    2: 12,\n    5: 12,\n    7: 12,\n    3: 20,\n    6: 42,\n  };\n\n  for (const property in maxElements) {\n    if (maxElements.hasOwnProperty(property)) {\n      for (let i = 1; i <= maxElements[property]; i++) {\n        cleanMap[getRandomInt(1, height) - 1][getRandomInt(1, width) - 1] = customTile(parseInt(property));\n      }\n    }\n  }\n\n  return cleanMap;\n  // todo: vygenerovat všechno prázdné\n  // mít pole toho, co se musí do mapy vložit\n  // iterovat přes to a vkládat to na random X,Y pozici\n  // ptát se \"je tato pozice prázdná\"? Ano - vložit, ne \"Najít jinou pozici\"\n};\n\nconst getRandomInt = (min, max) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\n\nexport const generateDynamicMap2 = (width, height) => {\n  const map = [];\n\n  const maxElements = {\n    4: 1,\n    2: 2,\n    5: 2,\n    7: 2,\n    3: 2,\n    6: 30,\n  };\n\n  const counter = {};\n  const abadoned = [];\n\n  for (let y = 0; y < height; y++) {\n    map[y] = [];\n    for (let x = 0; x < width; x++) {\n      let tile = getRandomMapTile();\n      if (counter[tile.type] === undefined) {\n        counter[tile.type] = 1;\n      } else {\n        counter[tile.type]++;\n      }\n      if (abadoned.includes(tile.type) || (maxElements[tile.type] !== undefined && maxElements[tile.type] < counter[tile.type])) {\n        abadoned.push(tile.type);\n        tile = getRandomMapTile(abadoned);\n      }\n      map[y][x] = tile;\n    }\n  }\n\n  return map;\n};\n","import React from 'react';\nimport './style.css';\nimport { connect } from 'react-redux';\nimport explosion from '../map/tiles/explosion.png';\n\nconst ScoreBoard = ({ bombPower, dimension }) => (\n    <div className=\"scoreBoard\">\n        <span>\n            <img style={{ height: '40px', margin: '5px' }} src={explosion} alt=\"Explosion\" />\n            {bombPower}\n        </span>\n\n        <span>\n      [\n            {`${dimension[0]}x${dimension[1]}`}\n      ]\n        </span>\n    </div>\n);\n\nconst mapStateToProps = (state) => {\n    const tiles = state.map.tiles;\n\n    return {\n        bombPower: state.player.bombPower,\n        dimension: (tiles.length) ? [tiles[0].length, tiles.length] : [],\n    };\n};\n\nexport default connect(mapStateToProps)(ScoreBoard);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.css';\nimport { connect } from 'react-redux';\nimport store from '../../config/store';\nimport { generateDynamicMap } from '../map/mapGenerator';\nimport { SPRITE_SIZE } from '../../config/constants';\n\nconst Summary = (props) => {\n  if (!props.gameOver) {\n    return null;\n  }\n\n  const onButtonClickRestart = () => {\n    const tiles = generateDynamicMap(\n      Math.floor(window.innerWidth / SPRITE_SIZE) - 1,\n      Math.floor((window.innerHeight - 50) / SPRITE_SIZE) - 1,\n    );\n\n    const mapSize = [SPRITE_SIZE * tiles[0].length, SPRITE_SIZE * tiles.length];\n    store.dispatch({ type: 'ADD_TILES', payload: { tiles, mapSize } });\n    store.dispatch({ type: 'NEW_GAME' });\n  };\n\n  return ReactDOM.createPortal(\n    <div className=\"modalContainer\">\n      <div className=\"summaryTable\">\n        <p>Game Over</p>\n        <button\n          type=\"button\"\n          onClick={(e) => {\n            e.preventDefault();\n            onButtonClickRestart();\n          }}\n          className=\"btn first\"\n        >\n          Restart\n        </button>\n      </div>\n    </div>,\n    document.querySelector('#modal'),\n  );\n};\n\nconst mapStateToProps = state => ({\n  gameOver: state.player.gameOver,\n});\n\nexport default connect(mapStateToProps)(Summary);\n","import React from 'react';\nimport Map from '../map/Map';\nimport Player from '../player/Player';\n// import {tiles} from '../../data/maps/2';\n// import {generateDynamicMap} from '../../data/maps/3';\nimport { generateDynamicMap } from '../map/mapGenerator';\nimport store from '../../config/store';\nimport { SPRITE_SIZE } from '../../config/constants';\nimport ScoreBoard from '../ScoreBoard';\nimport Summary from '../Summary';\n\n//test\nconst World = () => {\n  const tiles = generateDynamicMap(\n    Math.floor(window.innerWidth / SPRITE_SIZE) - 1,\n    Math.floor((window.innerHeight - 50) / SPRITE_SIZE) - 1,\n  );\n  const mapSize = [SPRITE_SIZE * tiles[0].length, SPRITE_SIZE * tiles.length];\n  store.dispatch({ type: 'ADD_TILES', payload: { tiles, mapSize } });\n  return (\n    <div style={{\n      position: 'relative',\n      width: `${mapSize[0]}px`,\n      height: `${mapSize[1]}px`,\n    }}\n    >\n      <Map />\n      <Player name=\"Progresoy\" />\n      <ScoreBoard />\n      <Summary />\n    </div>\n  );\n};\n\nexport default World;\n"],"sourceRoot":""}