(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{34:function(e,t,n){},35:function(e,t){e.exports=function(e){return e=e||7,Math.random().toString(35).substr(2,e)}},36:function(e,t,n){e.exports=n.p+"static/media/player_walk.9f19440f.png"},37:function(e,t,n){},38:function(e,t){e.exports="data:image/png;base64,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"},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),i=(n(34),n(35)),c=n.n(i),u=n(2),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{type:p(e),timer:t,power:n,imposible:a,id:c()(10)}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.b;return l(10,e,t,!0)},p=function(e){switch(e){case 0:return"grass";case 11:return"explosion";case 10:return"bomb";case 3:return"tree";case 4:return"chest";case 2:return"crown";case 5:return"rock";case 6:return"tree";case 7:return"upgrade";default:return"grass"}},d=function(e){var t=e.tile;return r.a.createElement("div",{className:"tile ".concat(t.type),style:{height:u.e,width:u.e},key:Math.random()})},f=function(e){var t=e.tiles;return r.a.createElement("div",{className:"row"},t.map(function(e){return r.a.createElement(d,{tile:e,key:Math.random()})}))},m=Object(o.b)(function(e){return{tiles:e.map.tiles,mapSize:e.map.mapSize}})(function(e){var t=e.mapSize,n=e.tiles;return r.a.createElement("div",{className:"mapContainer",style:{width:"".concat(t[0],"px"),height:"".concat(t[1],"px"),margin:"auto",border:"4px solid white"}},n.map(function(e){return r.a.createElement(f,{tiles:e,key:Math.random()})}))}),A=n(1),h=n(36),v=n.n(h),y=n(10),g=function(e){var t=function(e,t){var a=function(){var e=y.a.getState().player.walkIndex;return e>=7?0:e+1}();y.a.dispatch({type:"MOVE_PLAYER",payload:{position:t,direction:e,walkIndex:a,spriteLocation:n(e,a)}})},n=function(e,t){switch(e){case"SOUTH":return"".concat(u.e*t,"px 0px");case"EAST":return"".concat(u.e*t,"px ").concat(u.e,"px");case"WEST":return"".concat(u.e*t,"px ").concat(2*u.e,"px");case"NORTH":return"".concat(u.e*t,"px ").concat(3*u.e,"px");default:return"0px 0px"}},a=function(e){var n=y.a.getState().player.position,a=y.a.getState().player.bombPower,o=y.a.getState().map.mapSize,i=function(e,t){return[e[0]>=t[0]?0:e[0]<0?t[0]-u.e:e[0],e[1]>=t[1]?0:e[1]<0?t[1]-u.e:e[1]]}(function(e,t){switch(t){case"WEST":return[e[0]-u.e,e[1]];case"EAST":return[e[0]+u.e,e[1]];case"NORTH":return[e[0],e[1]-u.e];case"SOUTH":return[e[0],e[1]+u.e];default:return e}}(n,e),o);(function(e,t){var n=y.a.getState().map.tiles,a=t[1]/u.e,r=t[0]/u.e,o=n[a][r];return!["rock"].includes(o.type)})(0,i)&&(t(e,i),r(i,["crown","chest"])&&y.a.dispatch({type:"MODIFY_BOMB_POWER",payload:{bombPower:a+1}}),r(i,["explosion"])&&y.a.dispatch({type:"GAME_OVER"}))},r=function(e,t){var n=y.a.getState().map.tiles,a=e[0]/u.e,r=e[1]/u.e;return!!t.includes(n[r][a].type)&&(y.a.dispatch({type:"PLACE_OBJECT",payload:{position:e,object:l()}}),!0)};return window.addEventListener("keydown",function(e){!function(e){switch(e.keyCode){case 65:case 37:return e.preventDefault(),a("WEST");case 87:case 38:return e.preventDefault(),a("NORTH");case 68:case 39:return e.preventDefault(),a("EAST");case 83:case 40:e.preventDefault(),a("SOUTH")}}(e)}),e},b=function(e){var t=function(){var e=y.a.getState().player,t=e.position,o=e.bombPower,i=e.bombTimeout,c=y.a.getState().map.tiles,p=s(i,o);(function(e,t){return 10!==t[e[1]/u.e][e[0]/u.e].type})(t,c)&&(r(t,p),y.a.dispatch({type:"MODIFY_BOMB_POWER",payload:{bombPower:o>1?o-1:o}}),setTimeout(function(){var e=t[1]/u.e,r=t[0]/u.e;n(a(c,p.power,[r,e],l(11))),setTimeout(function(){n(a(Array.from(c),p.power,[r,e],l(0)))},u.d)},p.timer))},n=function(e){y.a.dispatch({type:"REPLACE_TILES",payload:{tiles:e}})},a=function(e,t,n,a){for(var r=1;r<=t;r++)void 0!==e[n[1]+r]&&(e[n[1]+r][n[0]]=a),void 0!==e[n[1]-r]&&(e[n[1]-r][n[0]]=a),void 0!==e[n[1]][n[0]+r]&&(e[n[1]][n[0]+r]=a),void 0!==e[n[1]][n[0]-r]&&(e[n[1]][n[0]-r]=a);e[n[1]][n[0]]=a;var o=y.a.getState().player.position,i=o[0]/u.e;return 11===e[o[1]/u.e][i].type&&y.a.dispatch({type:"GAME_OVER"}),e},r=function(e,t){y.a.dispatch({type:"PLACE_OBJECT",payload:{position:e,object:t}})};return window.addEventListener("keydown",function(e){!function(e){switch(e.keyCode){case 32:e.preventDefault(),t()}}(e)}),e},w=Object(o.b)(function(e){return Object(A.a)({},e.player)})(b(g(function(e){return e.gameOver?null:r.a.createElement("div",{style:{position:"absolute",top:e.position[1],left:e.position[0],backgroundImage:"url('".concat(v.a,"')"),backgroundPosition:e.spriteLocation,width:"40px",height:"40px"}})}))),E=function(e,t){var n=function(e,t){for(var n=new Array(t.length),a=0;a<t;a++){n[a]=new Array(e.length);for(var r=0;r<e;r++)n[a][r]=l()}return n}(e,t),a={4:10,2:12,5:12,7:12,3:20,6:42};for(var r in a)if(a.hasOwnProperty(r))for(var o=1;o<=a[r];o++)n[O(1,t)-1][O(1,e)-1]=l(parseInt(r));return n},O=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},P=(n(37),n(38)),S=n.n(P),D=Object(o.b)(function(e){var t=e.map.tiles;return{bombPower:e.player.bombPower,dimension:t.length?[t[0].length,t.length]:[]}})(function(e){var t=e.bombPower,n=e.dimension;return r.a.createElement("div",{className:"scoreBoard"},r.a.createElement("span",null,r.a.createElement("img",{style:{height:"40px",margin:"5px"},src:S.a,alt:"Explosion"}),t),r.a.createElement("span",null,"[","".concat(n[0],"x").concat(n[1]),"]"))}),j=n(12),V=n.n(j),z=(n(39),Object(o.b)(function(e){return{gameOver:e.player.gameOver}})(function(e){if(!e.gameOver)return null;return V.a.createPortal(r.a.createElement("div",{className:"modalContainer"},r.a.createElement("div",{className:"summaryTable"},r.a.createElement("p",null,"Game Over"),r.a.createElement("button",{type:"button",onClick:function(e){e.preventDefault(),function(){var e=E(Math.floor(window.innerWidth/u.e)-1,Math.floor((window.innerHeight-50)/u.e)-1),t=[u.e*e[0].length,u.e*e.length];y.a.dispatch({type:"ADD_TILES",payload:{tiles:e,mapSize:t}}),y.a.dispatch({type:"NEW_GAME"})}()},className:"btn first"},"Restart"))),document.querySelector("#modal"))}));t.default=function(){var e=E(Math.floor(window.innerWidth/u.e)-1,Math.floor((window.innerHeight-50)/u.e)-1),t=[u.e*e[0].length,u.e*e.length];return y.a.dispatch({type:"ADD_TILES",payload:{tiles:e,mapSize:t}}),r.a.createElement("div",{style:{position:"relative",width:"".concat(t[0],"px"),height:"".concat(t[1],"px")}},r.a.createElement(m,null),r.a.createElement(w,{name:"Progresoy"}),r.a.createElement(D,null),r.a.createElement(z,null))}}}]);
//# sourceMappingURL=3.ecb1cc74.chunk.js.map